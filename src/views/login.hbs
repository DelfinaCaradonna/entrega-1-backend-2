<div
  style="display:flex; align-items:center; justify-content:center; height:100vh;"
>
  {{#if error}}
    <div
      class="alert"
      style="color:#b00020; text-align:center; margin-bottom:1rem;"
    >
      ¡Login fallido! Revisa tus credenciales.
    </div>
  {{/if}}

  {{#if reset}}
    <div
      class="alert"
      style="color:#2e7d32; text-align:center; margin-bottom:1rem;"
    >
      ✅ Contraseña actualizada correctamente. Ahora podés iniciar sesión.
    </div>
  {{/if}}
  <div
    style="background:#fff; padding:2rem; border-radius:16px; box-shadow:0 8px 20px rgba(0,0,0,0.08); width:100%; max-width:400px;"
  >
    <h1
      style="text-align:center; font-size:1.5rem; margin-bottom:1.5rem; color:#333;"
    >Iniciar Sesión</h1>

    <form
      action="/api/users/login"
      method="POST"
      style="display:flex; flex-direction:column; gap:1rem;"
    >
      <input
        type="email"
        name="mail"
        placeholder="Mail"
        required
        style="padding:0.75rem 1rem; border:1px solid #ddd; border-radius:12px; font-size:1rem; outline:none;"
      />
      <input
        type="password"
        name="password"
        placeholder="Contraseña"
        required
        style="padding:0.75rem 1rem; border:1px solid #ddd; border-radius:12px; font-size:1rem; outline:none;"
      />

      <div
        class="actions"
        style="display:flex; flex-direction:column; gap:0.75rem;"
      >
        <button
          type="submit"
          class="btn-login"
          style="padding:0.8rem 1rem; border:none; border-radius:12px; font-size:1rem; cursor:pointer; background:#4a90e2; color:white;"
        >
          Entrar
        </button>

        <a href="/register">
          <button
            type="button"
            class="btn-register"
            style="padding:0.8rem 1rem; border:none; border-radius:12px; font-size:1rem; cursor:pointer; background:#f0f0f0; color:#333;"
          >
            Crear nueva cuenta
          </button>
        </a>

        <a href="/forgot-password">
          <button
            type="button"
            style="padding:0.8rem 1rem; border:none; border-radius:12px; font-size:1rem; cursor:pointer; background:#f0f0f0; color:#333;"
          >
            Olvidé mi contraseña
          </button>
        </a>
      </div>
    </form>
  </div>
</div>

<script>
  const urlParams = new URLSearchParams(window.location.search); if
  (urlParams.get("reset") === "ok") { const alertDiv =
  document.createElement("div"); alertDiv.textContent = "Contraseña actualizada
  correctamente ✅"; alertDiv.style.cssText = ` position: fixed; top: 20px;
  left: 50%; transform: translateX(-50%); background: #e8f5e9; color: #2e7d32;
  padding: 0.8rem 1.2rem; border-radius: 8px; box-shadow: 0 4px 12px
  rgba(0,0,0,0.1); font-size: 1rem; opacity: 0; transition: opacity 0.5s ease;
  z-index: 1000; `; document.body.appendChild(alertDiv); setTimeout(() =>
  (alertDiv.style.opacity = 1), 100); setTimeout(() => (alertDiv.style.opacity =
  0), 3000); setTimeout(() => alertDiv.remove(), 3500); }
</script>